{{> header}}
{{> nav}}
{{#alert}}
<div class="alert alert-success" style="text-align: center" role="alert">
  {{ alert }}
</div>
{{/alert}}
{{#warning}}
<div class="alert alert-danger" style="text-align: center" role="alert">
  {{ warning }}
</div>
{{/warning}}

{{#userCount}}
<div class="alert alert-warning col-6 offset-3" style="text-align:center" role="alert">
  Current Active Players: <br>
  <h1>{{ userCount }}</h1>
</div>
{{/userCount}}

<div class="card-deck col-12">
  <div class="card">
    <h5 class="card-title">CURRENT PICK:</h5>
    {{#thisTeam}}
   <h1>{{thisTeam}}</h1>
    {{/thisTeam}}
</div>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Team Select</h5>
      <form class="pickSubmit" method="POST">
        <div class="form-group">
          <label for="exampleFormControlSelect1">Select your team (ONLY PICK ONCE PER WEEK):</label>
          <select
            class="form-control"
            name="pick"
            id="teamSelect"
            value="value">
            <option>Select...</option>
            <option>Angels</option>
            <option>Astros</option>
            <option>Athletics</option>
            <option>Blue Jays</option>
            <option>Braves</option>
            <option>Brewers</option>
            <option>Cardinals</option>
            <option>Cubs</option>
            <option>Diamondbacks</option>
            <option>Dodgers</option>
            <option>Giants</option>
            <option>Guardians</option>
            <option>Mariners</option>
            <option>Marlins</option>
            <option>Mets</option>
            <option>Nationals</option>
            <option>Orioles</option>
            <option>Padres</option>
            <option>Phillies</option>
            <option>Pirates</option>
            <option>Rangers</option>
            <option>Rays</option>
            <option>Red Sox</option>
            <option>Reds</option>
            <option>Rockies</option>
            <option>Royals</option>
            <option>Tigers</option>
            <option>Twins</option>
            <option>White Sox</option>
            <option>Yankees</option>
          </select>
        </div>
        <button type="submit" id="pickSubmit" class="btn btn-warning">
          Submit
        </button>
      </form>
      <br />
      {{#message}}
      <div
        class="alert alert-info col-6 offset-3"
        style="text-align: center"
        role="alert">
        {{ message }}
      </div>
      {{/message}}
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Past Picks (By Week):</h5>
      <ol style="text-align: left">
        {{#picksResult}}
        <li>{{.}}</li>
        {{/picksResult}}
      </ol>
    </div>
  </div>
</div>

<script>
  if (window.history.replaceState) {
    window.history.replaceState(null, null, window.location.href);
  }
</script>
<script src="js/userCount.js"></script>

<script>
  const img = document.getElementById("image");
  const teamSelect = document.getElementById("pickSubmit").value;
  const source = `/assets/teamlogos/${teamSelect}.svg`
  img.src = source;
  console.log(source)
</script>

{{> footer}}
